### NBD (Network Block Device)

> - Linux 에서 네트워크 블록 장치 (NBD)는 블록 장치 (일반적으로 하드 디스크 또는 파티션)를 한 머신에서 두 번째 머신으로 전달하는 데 사용할 수 있는 네트워크 프로토콜 입니다.
> - 예를 들어, 로컬 머신은 다른 컴퓨터에 연결된 하드 디스크 드라이브에 액세스할 수 있습니다 .
- 쉽게 말하면 A 장비의 block device 를 B 장비에서 사용할 수 있게 하는 linux 기술

### NBD 구성 요소
1. NBD 서버
- 역할: 원격 디스크를 제공하는 역할을 합니다. 서버는 디스크 이미지를 네트워크를 통해 NBD 클라이언트에 제공하며, 클라이언트 요청을 처리합니다.
소프트웨어: 일반적으로 nbd-server나 qemu-nbd를 사용합니다.
2. NBD 클라이언트
- 역할: NBD 서버에 연결하여 네트워크 상의 원격 디스크를 로컬 디스크처럼 마운트하고 사용합니다.
소프트웨어: nbd-client를 사용합니다.
3. 커널 드라이버
- 역할: NBD 디바이스(/dev/nbd0, /dev/nbd1 등)를 생성하고, 디스크처럼 동작하도록 처리합니다.
- 설치: 일반적으로 최신 Linux 커널에는 NBD 드라이버가 포함되어 있으므로 modprobe 명령어로 로드하면 됩니다.



### NBD와 NFS 차이
NBD(Network Block Device)와 NFS(Network File System)는 네트워크를 통해 원격 스토리지를 사용하는 기술이라는 점에서 유사하지만, 동작 방식과 사용 사례에서 큰 차이가 있습니다. 아래에서 각각을 비교하여 설명합니다.


| **특징**              | **NBD**                                      | **NFS**                                      |
|-----------------------|----------------------------------------------|----------------------------------------------|
| **레벨**              | 블록 디바이스 레벨                           | 파일 시스템 레벨                              |
| **데이터 전송 단위**   | 블록 단위                                     | 파일 단위                                     |
| **관리 주체**         | 클라이언트가 파일 시스템 생성 및 관리          | 서버가 파일 시스템 생성 및 관리               |
| **용도**              | 원격 디스크를 로컬 디스크처럼 사용             | 파일 공유                                     |
| **설정 복잡도**       | 상대적으로 낮음                               | 중간 정도                                    |
| **성능**              | 고속 블록 I/O 가능                            | 메타데이터 오버헤드로 인해 상대적으로 느림   |
| **실제 사용 예**      | 데이터베이스, VM 이미지 저장                  | 홈 디렉토리 공유, 문서 및 파일 공유           |

항에 따라 적합한 방식을 선택하는 것이 중요합니다.

### NBD 사용법

1. NBD 설치
```
sudo yum install epel-release
sudo yum install nbd
```

2. NBD 서버 설정 및 실행

3. NBD 클라이언트 연결
