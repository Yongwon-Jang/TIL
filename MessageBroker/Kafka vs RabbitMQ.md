RabbitMQì™€ KafkaëŠ” ë‘˜ ë‹¤ **ë©”ì‹œì§• ì‹œìŠ¤í…œ**ì´ì§€ë§Œ, ì„¤ê³„ ì² í•™ê³¼ ë™ì‘ ë°©ì‹ì´ ì™„ì „íˆ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— **ì“°ì„ìƒˆê°€ ì™„ì „íˆ ë‹¤ë¦„**.
ì•„ë˜ì—ì„œ êµ¬ì¡°Â·ì„±ëŠ¥Â·íŠ¹ì§•Â·ì í•©í•œ ì‚¬ìš©ì²˜ê¹Œì§€ ì•„ì£¼ ìì„¸íˆ ë¹„êµí•´ì¤„ê²Œ.

---

# ğŸš© **RabbitMQ vs Kafka â€” í•µì‹¬ ê°œë… ì°¨ì´**

| í•­ëª©     | **RabbitMQ**    | **Kafka**             |
| ------ | --------------- | --------------------- |
| ì„±ê²©     | ë©”ì‹œì§€ ë¸Œë¡œì»¤         | ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ (ì´ë²¤íŠ¸ ë¡œê·¸ ì €ì¥ì†Œ) |
| ë°©ì‹     | ë©”ì‹œì§€ í(Queue) ê¸°ë°˜ | ë¡œê·¸ ê¸°ë°˜ Pub/Sub         |
| ì²˜ë¦¬ ë°©ì‹  | í‘¸ì‹œ(Push)        | í’€(Pull)               |
| ë©”ì‹œì§€ ì €ì¥ | ì†Œë¹„ë˜ë©´ íì—ì„œ ì‚¬ë¼ì§    | ë¡œê·¸ì— ì˜êµ¬ ì €ì¥(ì„¤ì •í•œ ê¸°ê°„ë§Œí¼)   |
| ëª©ì      | ë©”ì‹œì§€ ì „ë‹¬ ë³´ì¥       | ëŒ€ê·œëª¨ ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬        |

---

# ğŸ‡ **RabbitMQ ìƒì„¸ ì„¤ëª…**

## âœ” íŠ¹ì§•

* **AMQP í”„ë¡œí† ì½œ ê¸°ë°˜ ë©”ì‹œì§€ ë¸Œë¡œì»¤**
* ë©”ì‹œì§€ë¥¼ íë¡œ ì „ë‹¬í•˜ê³  ì†Œë¹„ìê°€ ì½ìœ¼ë©´ **ë©”ì‹œì§€ ì‚­ì œ**
* **ë©”ì‹œì§€ ë³´ì¥ì„±(ACK/NACK, ì¬ì „ì†¡)** ê°•í•¨
* ë¼ìš°íŒ… ê¸°ëŠ¥ ê°•ë ¥: Direct, Topic, Fanout ë“±

## âœ” ì¥ì 

* **ë©”ì‹œì§€ ì‹ ë¢°ì„± ë†’ìŒ** (ACK, Retry, Dead Letter ë“±).
* ë³µì¡í•œ ë¼ìš°íŒ… (íŠ¸ë¦¬ê±° íŒ¨í„´) ê°€ëŠ¥.
* Latency ì§§ìŒ â†’ ë¹ ë¥´ê²Œ ì „ë‹¬í•´ì•¼ í•˜ëŠ” ì‹œìŠ¤í…œì— ì í•©.
* ë‹¤ì–‘í•œ í”„ë¡œí† ì½œ ì§€ì›(MQTT, STOMP, AMQP).

## âœ” ë‹¨ì 

* Kafkaì— ë¹„í•´ **ì²˜ë¦¬ëŸ‰ ë‚®ìŒ** (TPS ìƒëŒ€ì ìœ¼ë¡œ ë‚®ìŒ).
* ë©”ì‹œì§€ê°€ ì†Œë¹„ë˜ë©´ ì‚­ì œë˜ë¯€ë¡œ **ì´ë²¤íŠ¸ ë¡œê·¸ë¡œ í™œìš© ë¶ˆê°€ëŠ¥**.
* íŒŒí‹°ì…˜ ê¸°ë°˜ í™•ì¥ì´ ë¶ˆë¦¬í•¨ â†’ ëŒ€ê·œëª¨ ìŠ¤íŠ¸ë¦¬ë°ì—ëŠ” ë¶€ì í•©.

---

# ğŸš€ **Kafka ìƒì„¸ ì„¤ëª…**

## âœ” íŠ¹ì§•

* **ë¶„ì‚° ë¡œê·¸ ê¸°ë°˜ Pub/Sub í”Œë«í¼**
* ë©”ì‹œì§€ë¥¼ **ì‚­ì œí•˜ì§€ ì•Šê³  ë¡œê·¸ì— ì €ì¥**

    * (Retention ê¸°ê°„ ë™ì•ˆ ìœ ì§€: ì˜ˆ, 7ì¼)
* ì†Œë¹„ìëŠ” ìì‹ ì´ ì–´ë””ê¹Œì§€ ì½ì—ˆëŠ”ì§€ **ì˜¤í”„ì…‹ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì **
* **ìˆœì„œ ë³´ì¥(Partition ë‚´), í™•ì¥ì„± ë§¤ìš° ë›°ì–´ë‚¨**
* ì´ˆë‹¹ ìˆ˜ë°±ë§Œ ê±´ ì´ìƒ ì²˜ë¦¬ ê°€ëŠ¥

## âœ” ì¥ì 

* ì••ë„ì ì¸ **ë†’ì€ ì²˜ë¦¬ëŸ‰** (ëŒ€ê·œëª¨ ì´ë²¤íŠ¸ ì²˜ë¦¬ì— ìµœì )
* íŒŒí‹°ì…˜ ê¸°ë°˜ **ìˆ˜í‰ í™•ì¥** ì‰¬ì›€
* ë©”ì‹œì§€ë¥¼ ì˜¤ë˜ ì €ì¥í•´ **ì¬ì²˜ë¦¬ ê°€ëŠ¥**
* ì´ë²¤íŠ¸ íˆìŠ¤í† ë¦¬ ë³´ê´€ ê°€ëŠ¥ â†’ Event Sourcing ê°€ëŠ¥
* ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ë¶„ì„ê³¼ ê¶í•© ì¢‹ìŒ

## âœ” ë‹¨ì 

* ë©”ì‹œì§€ ë³´ì¥(Exactly-once) êµ¬í˜„ì€ ìƒëŒ€ì ìœ¼ë¡œ ë³µì¡
* RabbitMQë³´ë‹¤ **ë”œë ˆì´ê°€ ì¡°ê¸ˆ ìˆìŒ** (Pull ë°©ì‹)
* ì‹œìŠ¤í…œ êµ¬ì¶•Â·ìš´ì˜ ë‚œì´ë„ ë†’ìŒ (Zookeeper/Controller í•„ìš”)
* ë¼ìš°íŒ… ê¸°ëŠ¥ì€ RabbitMQë³´ë‹¤ ë‹¨ìˆœ

---

# ğŸ”¥ **RabbitMQ vs Kafka â€” ì–´ë–¤ ìƒí™©ì— ì–´ë–¤ ê²ƒì„ ì„ íƒí• ê¹Œ?**

## ğŸ‡ RabbitMQê°€ ë§ëŠ” ê²½ìš°

* **ì§§ì€ ì§€ì—°ì‹œê°„ + ì•ˆì •ì ì¸ ë©”ì‹œì§€ ì „ë‹¬**ì´ ì¤‘ìš”
* ìˆœìˆ˜í•œ ë©”ì‹œì§€ í ì—­í• 
* ë¼ìš°íŒ… íŒ¨í„´ì´ ë³µì¡í•  ë•Œ
* RPC ìŠ¤íƒ€ì¼(Message â†’ Response) ì‚¬ìš©
* ì—…ë¬´ ì‹œìŠ¤í…œ, ì•Œë¦¼, ê²°ì œ ìŠ¹ì¸ ë“±
  â†’ â€œí™•ì‹¤í•œ ì „ë‹¬"ì´ ì¤‘ìš”í•œ ê³³

### ì˜ˆ:

* ì£¼ë¬¸ ì²˜ë¦¬ ì‹œìŠ¤í…œ
* ì•Œë¦¼/ì´ë©”ì¼ ë°œì†¡
* ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ ìš”ì²­/ì‘ë‹µ
* IoT ê¸°ê¸° ì œì–´

---

## ğŸš€ Kafkaê°€ ë§ëŠ” ê²½ìš°

* **ëŒ€ìš©ëŸ‰ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°** (ì´ˆë‹¹ ìˆ˜ì‹­~ìˆ˜ë°±ë§Œ)
* **ë¡œê·¸ë¥¼ ì¥ê¸°ê°„ ì €ì¥í•´ì•¼ í•¨**
* ë¶„ì„ ëŒ€ìƒ ë°ì´í„°ë¡œ ì¬ì²˜ë¦¬ í•„ìš”
* ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜(Event-driven)
* ë¹…ë°ì´í„° íŒŒì´í”„ë¼ì¸, ì‹¤ì‹œê°„ ì²˜ë¦¬

### ì˜ˆ:

* ì‚¬ìš©ì í–‰ë™ ë¡œê·¸ ìˆ˜ì§‘(Click Stream)
* ì‹¤ì‹œê°„ ê±°ë˜ ë¶„ì„
* ELK/Prometheus ê°™ì€ ëª¨ë‹ˆí„°ë§ ë°ì´í„° ìˆ˜ì§‘
* ì´ë²¤íŠ¸ ì†Œì‹±(Event Sourcing)
* ë°ì´í„° ë ˆì´í¬ ì ì¬

---

# ğŸ’¡ ê¸°ìˆ ì  ë™ì‘ ë°©ì‹ ë¹„êµ (ì‹¬í™”)

| í•­ëª©         | RabbitMQ         | Kafka                 |
| ---------- | ---------------- | --------------------- |
| Publish ë°©ì‹ | Push             | Pull                  |
| ë©”ì‹œì§€ ìˆœì„œ     | Queue ë‹¨ì—ì„œ ë³´ì¥ ì–´ë ¤ì›€ | Partition ë‚´ì—ì„œ ê°•ë ¥í•˜ê²Œ ë³´ì¥ |
| ì „ë‹¬ ë³´ì¥      | ACK/NACK/Requeue | Consumer offset ê¸°ë°˜    |
| ë©”ì‹œì§€ ì‚­ì œ     | ì†Œë¹„ í›„ ì‚­ì œ          | ì„¤ì •í•œ ê¸°ê°„ ë™ì•ˆ ë³´ê´€          |
| ì²˜ë¦¬ëŸ‰        | ë‚®ìŒ               | ë§¤ìš° ë†’ìŒ                 |
| ì§€ì—°         | ë‚®ìŒ               | ìƒëŒ€ì ìœ¼ë¡œ í¼               |
| í™•ì¥ì„±        | ì œí•œì               | ë§¤ìš° ë†’ìŒ (íŒŒí‹°ì…˜ ê¸°ë°˜)        |
| ìš´ì˜ ë‚œì´ë„     | ì‰¬ì›€               | ì–´ë µë‹¤                   |

---

# ğŸ”š **ìµœì¢… ê²°ë¡ **

* **RabbitMQ = ì‹ ë¢°ì„± + ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì „ë‹¬ ì¤‘ì‹¬**
* **Kafka = ëŒ€ìš©ëŸ‰ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° + ë¡œê·¸ ì €ì¥ ì¤‘ì‹¬**

ì„œë¡œ ëŒ€ì²´ì œê°€ ì•„ë‹ˆê³ , **ëª©ì ì´ ë‹¬ë¼ì„œ ë³‘í–‰ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ ë§ìŒ**.

---

### êµ¬ì¡°

ì¢‹ì•„! **RabbitMQì™€ Kafkaì˜ êµ¬ì¡°(Architecture)ë¥¼ ë¹„êµí•´ì„œ ê·¸ë¦¼ìœ¼ë¡œ ë³´ì—¬ì£¼ê³ **, ë‘ ê¸°ìˆ ì˜ í•µì‹¬ ì°¨ì´ê°€ ì™œ ë°œìƒí•˜ëŠ”ì§€ ì´í•´í•˜ê¸° ì¢‹ê²Œ ì„¤ëª…í•´ì¤„ê²Œ.

---

# ğŸ° **RabbitMQ êµ¬ì¡°(Architecture)**

```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Producer â”‚ ----> â”‚  Exchange  â”‚ ----> â”‚  Queue   â”‚ ---> Consumer
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                (Routing: fanout / direct / topic / header)
```

### ğŸ”¹ êµ¬ì„± ìš”ì†Œ

* **Producer**: ë©”ì‹œì§€ ìƒì„±ì
* **Exchange**: ë©”ì‹œì§€ë¥¼ ë¼ìš°íŒ…í•˜ëŠ” ì—­í• 

    * direct, topic, fanout, headers exchange íƒ€ì… ì¡´ì¬
* **Queue**: ì‹¤ì œ ë©”ì‹œì§€ê°€ ì €ì¥ë˜ëŠ” ê³³
* **Consumer**: ë©”ì‹œì§€ë¥¼ ê°€ì ¸ê°€ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜

### ğŸ”¹ íŠ¹ì§•

* **ë©”ì‹œì§€ë¥¼ íì— ì €ì¥í•˜ê³  ì†Œë¹„í•˜ë©´ ì‚­ì œë¨**
* **ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì¤‘ì‹¬ ì•„í‚¤í…ì²˜** (Push-based)
* ì¼ëŒ€ì¼(Queue), ì¼ëŒ€ë‹¤(Fanout) ë¼ìš°íŒ… êµ¬ì¡°ì— ê°•í•¨
* ë©”ì‹œì§€ ìˆœì„œ ë³´ì¥ì€ í ë‹¨ìœ„ë¡œë§Œ ê°€ëŠ¥í•¨

---

# âš¡ **Kafka êµ¬ì¡°(Architecture)**

```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Producer â”‚ -----> â”‚  Broker (Topic/Partition) â”‚ ---> â”‚ Consumer â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚      â”‚      â”‚
                               â–¼      â–¼      â–¼
                         Partition0 Partition1 Partition2
```

### ğŸ”¹ êµ¬ì„± ìš”ì†Œ

* **Producer**: ë©”ì‹œì§€ë¥¼ í† í”½/íŒŒí‹°ì…˜ì— ê¸°ë¡
* **Broker Cluster**: ë°ì´í„° ì €ì¥ì†Œ ìì²´
  (KafkaëŠ” ì‚¬ì‹¤ìƒ "ë¶„ì‚° ë¡œê·¸ ì €ì¥ ì‹œìŠ¤í…œ")
* **Topic**: ë©”ì‹œì§€ë¥¼ ì €ì¥í•˜ëŠ” ë…¼ë¦¬ì  êµ¬ì—­
* **Partition**: ë³‘ë ¬ì„±ê³¼ í™•ì¥ì„±ì„ ìœ„í•œ ìµœì†Œ ë‹¨ìœ„
* **Consumer Group**: íŒŒí‹°ì…˜ ë‹¨ìœ„ë¡œ ë©”ì‹œì§€ë¥¼ ë³‘ë ¬ ì²˜ë¦¬

### ğŸ”¹ íŠ¹ì§•

* **ë©”ì‹œì§€ê°€ ì‚­ì œë˜ì§€ ì•Šê³  ë¡œê·¸ì²˜ëŸ¼ Append-only ì €ì¥**
* ì†Œë¹„ìëŠ” â€œOffsetâ€ ê¸°ë°˜ìœ¼ë¡œ ì§ì ‘ ì½ê¸° ìœ„ì¹˜ë¥¼ ì¡°ì ˆ
* ë§¤ìš° ë†’ì€ ì²˜ë¦¬ëŸ‰(Throughput)
* ëŒ€ê·œëª¨ ë¶„ì‚° í™˜ê²½ì— ìµœì í™”

---

# ğŸ†š RabbitMQ vs Kafka êµ¬ì¡° ë¹„êµ

```
RabbitMQ (Queue-based)                 Kafka (Log-based, Distributed)

Producer                               Producer
    â”‚                                       â”‚
    â–¼                                       â–¼
 Exchange                             Topic / Partition
    â”‚                                       â”‚
    â–¼                                       â–¼
  Queue ----------------------->    Broker Cluster (Replicated Log)
    â”‚                                       â”‚
    â–¼                                       â–¼
Consumer                              Consumer Group
```

---

# ğŸ” RabbitMQ vs Kafka í•µì‹¬ êµ¬ì¡° ì°¨ì´

| ìš”ì†Œ         | RabbitMQ     | Kafka                       |
| ---------- | ------------ | --------------------------- |
| **ì €ì¥ ë°©ì‹**  | Queue ë©”ì‹œì§€    | Append-log ë°©ì‹               |
| **ë©”ì‹œì§€ ì‚­ì œ** | ì†Œë¹„ë˜ë©´ ì‚­ì œ      | ì†Œë¹„í•´ë„ ì‚­ì œ X (retention ê¸°ë°˜ ìœ ì§€) |
| **ë©”ì‹œì§€ ìˆœì„œ** | Queue ë‹¨ìœ„     | Partition ë‚´ë¶€ì—ì„œ ì™„ì „ ë³´ì¥        |
| **ì²˜ë¦¬ëŸ‰**    | ë‚®ìŒ~ì¤‘ê°„        | ë§¤ìš° ë†’ìŒ                       |
| **ì „ì†¡ ë°©ì‹**  | Push ê¸°ë°˜      | Pull ê¸°ë°˜                     |
| **ê°•ì **     | ì‹¤ì‹œê°„ ë©”ì‹œì§•, ë¼ìš°íŒ… | ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬, ìŠ¤íŠ¸ë¦¬ë°            |

---

# â¤ï¸ ìš”ì•½ ê·¸ë¦¼ìœ¼ë¡œ í•µì‹¬ë§Œ ë‹¤ì‹œ ë³´ì—¬ì¤Œ

## ğŸ° RabbitMQ

```
Producer â†’ Exchange â†’ Queue â†’ Consumer
```

## âš¡ Kafka

```
Producer â†’ Topic â†’ Partitions(Log) â†’ ConsumerGroup
```

---

ì›í•˜ë©´ ë‹¤ìŒë„ ê·¸ë ¤ì¤„ ìˆ˜ ìˆì–´:

* RabbitMQ ë¼ìš°íŒ… íƒ€ì…ë³„ êµ¬ì¡°(fanout, topic, direct)
* Kafka ë‚´ë¶€ commit log êµ¬ì¡°
* Kafka replication êµ¬ì¡°(Leader/ISR)
* RabbitMQ cluster êµ¬ì¡°

ì–´ë–¤ ê·¸ë¦¼ ì›í•´?

