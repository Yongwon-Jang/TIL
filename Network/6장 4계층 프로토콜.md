# 컴퓨터의 프로그램끼리는 이렇게 데이터를 주고 받는다.

### 4계층 프로토콜

- 4계층(전송 계층)에서 하는 일  
  - ex) 카톡에서 카톡으로 전달
  - 송신자의 프로세스와 수신자의 프로세스를 연결하는 통신 서비스를 제공한다.
  - 연결 지향 데이터 스트림지원, 신뢰성, 흐름제어, 다중화와 같은 편리한 서비스를 제공한다.
- 4계층 프로토콜의 종류
  - TCP
    - 전송 제어 프로토콜
    - 연결 지향 전송 방식을 사용
    - 안전한 연결을 지향
    - 연결이 되면 데이터를 보내고 잘 받았는지 확인한다.
  - UDP 프로토콜
    - 단순한 전송에 사용
    - 안전한 연결을 지향하지 않음

### 포트 번호

- 포트번호의 특징

  - 특정 프로세서와 특정 프로세스가 통신을 하기 위해 사용한다.
  - 하나의 포트는 하나의 프로세스만 사용 가능하다.
  - 하나의 프로세스가 여러 개의 포트를 사용하는 것은 가능하다.
  - 포트 번호는 일반적으로 정해져 있지만 무조건 지켜야 하는 것은 아니다.
    - 일반적으로 웹 서비스는 80번 포트를 사용하지만 웹 서비스가 항상 80번 포트를 사용해야만 하는 것은 아님

- Well-Known 포트

  - 전 세계적으로 유명한 포트

  | 서비스 이름 | 포트 번호 |
  | ----------- | --------- |
  | FTP         | 20, 21    |
  | SSH         | 22        |
  | TELNET      | 23        |
  | DNS         | 53        |
  | DHCP        | 67, 68    |
  | TFTP        | 69        |
  | HTTP        | 80        |
  | HTTPS       | 443       |

- Registered 포트

  - 조금은 유명한 포트

  | 서비스 이름      | 포트 번호 |
  | ---------------- | --------- |
  | 오라클 DB 서버   | 1521      |
  | MySQL 서버       | 3306      |
  | MS 원격 데스크탑 | 3389      |

- Dynamic 포트

  - 일반 사용자들이 사용하는 포트

  | 시작 포트 번호 | 마지막 포트 번호 |
  | -------------- | ---------------- |
  | 42152          | 65535            |

  - 약 15,000개

### 프로그램의 연결 정보

- 활성 연결 테이블
  - 현재 포트 활성 여부를 나타냄
  - cmd 창에 `netstat -ano` 명령어를 치면 확인할 수 있다



### 실습

1. 현재 연결 상태 확인하기
   - netstat -ano 명령어를 이용하여 내 컴퓨터와 현재 연결된 다른 컴퓨터들을 확인해보기
2. 특정 서비스의 포트번호 확인하기
   - 웹 서비스와 같은 유명한 특정 서비스의 포트번호 확인하기