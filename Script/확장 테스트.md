# Bash Extended Test

## **🔹 `[ ... ]`와 `[[ ... ]]`의 차이**

1. **`[ ... ]` (단일 대괄호):**
    - POSIX 표준에 따른 **기본적인 조건식**.
    - 단일 대괄호는 **문법이 엄격**하고 일부 기능에 제한이 있습니다.
    - 예시:
      ```bash
      if [ "$var" -eq 10 ]; then
        echo "Var is 10"
      fi
      ```

2. **`[[ ... ]]` (이중 대괄호):**
    - **Bash에서 제공하는 확장된 조건식**.
    - **`[[ ... ]]`**는 `[`보다 기능이 더 많고, **구문 오류가 발생할 가능성이 적고** 더 직관적입니다.
    - 예시:
      ```bash
      if [[ "$var" -eq 10 ]]; then
        echo "Var is 10"
      fi
      ```

---

## **🔹 `[[ ... ]]`의 주요 특징**

1. **복잡한 조건식을 더 쉽게 표현**
    - 예: 여러 조건을 **`&&`** (AND)나 **`||`** (OR)로 결합할 수 있습니다.
   ```bash
   if [[ "$var" -eq 10 && "$another_var" -lt 20 ]]; then
       echo "Both conditions are true"
   fi
   ```

2. **`==`와 `!=`를 사용하여 문자열 비교**
    - `==`는 **문자열 비교**에 사용됩니다. (단일 대괄호에서는 `-eq`, `-ne`, `-lt`, `-gt` 등의 수치 비교만 가능)
   ```bash
   if [[ "$var" == "hello" ]]; then
       echo "Var is hello"
   fi
   ```

3. **파일 테스트 조건 더 강력**
    - 예를 들어, `[[ -f "$file" ]]`는 파일이 존재하는지 확인할 때 더 안전하게 사용할 수 있습니다.
    - 이중 대괄호에서는 **구문 오류가 적고, 공백이나 특수문자 처리에서 더 유연**합니다.

4. **정규 표현식 사용**
    - `[[ ... ]]`에서는 **정규 표현식**을 지원합니다.
   ```bash
   if [[ "$var" =~ ^[a-zA-Z]+$ ]]; then
       echo "Var is alphabetic"
   fi
   ```

5. **부등호와 특수문자에 대한 더 나은 처리**
    - 예를 들어, `[[ $var == foo* ]]`와 같은 조건은 `[[ ... ]]`에서 더 안전하게 사용할 수 있습니다.

---

## **🔹 예시: `[[ ... ]]` 사용**

```bash
#!/bin/bash

var="hello"

if [[ -n "$var" ]]; then  # -n은 문자열이 비어있지 않으면 참
    echo "var is not empty"
fi

if [[ "$var" == "hello" ]]; then  # 문자열 비교
    echo "var is hello"
fi

if [[ "$var" =~ ^h.* ]]; then  # 정규 표현식 매칭
    echo "var starts with h"
fi
```

---

## **🔹 `[[ ... ]]` 사용 이유**
- **구문 오류가 덜 발생**하고, **복잡한 조건을 더 간단하고 직관적으로 작성**할 수 있기 때문에 많은 스크립트에서 `[[ ... ]]` 문법을 선호합니다.
- **문자열 비교, 정규 표현식** 및 **논리 연산**을 할 때 더 유연하고 직관적입니다.

---

**결론:** `[[ ... ]]`는 Bash에서 제공하는 **확장된 조건문** 문법으로, 더 많은 기능과 더 나은 오류 처리를 제공하여 스크립트 작성 시 유용하게 사용됩니다! 😊